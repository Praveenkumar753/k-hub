{"ast":null,"code":"var _jsxFileName = \"/home/rcts/Desktop/k-hub/frontend/src/pages/CourseContent.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { FiBook, FiChevronRight, FiVideo, FiFileText, FiCode, FiList, FiType, FiCheck, FiSquare } from 'react-icons/fi';\nimport { courseService } from '../services/courseService';\nimport { enrollmentService } from '../services/enrollmentService';\nimport Navbar from '../components/Navbar';\nimport CourseNotifications from '../components/CourseNotifications';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CourseContent = () => {\n  _s();\n  var _course$modules, _selectedTopic$conten;\n  const {\n    courseId\n  } = useParams();\n  const navigate = useNavigate();\n  const [course, setCourse] = useState(null);\n  const [selectedModule, setSelectedModule] = useState(null);\n  const [selectedTopic, setSelectedTopic] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [progress, setProgress] = useState(null);\n  useEffect(() => {\n    checkEnrollmentAndFetchCourse();\n  }, [courseId]);\n  const checkEnrollmentAndFetchCourse = async () => {\n    try {\n      // Check if user is enrolled and get progress\n      const [courseRes, enrollmentsRes] = await Promise.all([courseService.getCourse(courseId), enrollmentService.getEnrolledCourses()]);\n      if (!courseRes.course) {\n        navigate('/courses');\n        return;\n      }\n      const courseEnrollment = enrollmentsRes.enrollments.find(e => e.course._id === courseId);\n      if (!courseEnrollment) {\n        navigate(`/courses/${courseId}`);\n        return;\n      }\n      setCourse(courseRes.course);\n      setProgress(courseEnrollment.progress);\n\n      // Select current module and topic from progress\n      if (courseEnrollment.progress.currentModule) {\n        const currentModule = courseRes.course.modules.find(m => m._id === courseEnrollment.progress.currentModule);\n        setSelectedModule(currentModule);\n        if (currentModule && courseEnrollment.progress.currentTopic) {\n          const currentTopic = currentModule.mainTopics.find(t => t._id === courseEnrollment.progress.currentTopic);\n          setSelectedTopic(currentTopic);\n        }\n      }\n    } catch (error) {\n      console.error('Error fetching course content:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleTopicComplete = async topicId => {\n    try {\n      const response = await enrollmentService.markTopicComplete(courseId, topicId);\n      setProgress(response.progress);\n    } catch (error) {\n      console.error('Error marking topic complete:', error);\n    }\n  };\n  const handleTopicSelect = async (module, topic) => {\n    try {\n      setSelectedModule(module);\n      setSelectedTopic(topic);\n      await enrollmentService.updateProgress(courseId, {\n        moduleId: module._id,\n        topicId: topic._id\n      });\n    } catch (error) {\n      console.error('Error updating progress:', error);\n    }\n  };\n  const getContentIcon = type => {\n    switch (type) {\n      case 'youtube':\n        return /*#__PURE__*/_jsxDEV(FiVideo, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 24\n        }, this);\n      case 'code':\n        return /*#__PURE__*/_jsxDEV(FiCode, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 24\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(FiFileText, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 24\n        }, this);\n    }\n  };\n  const renderContent = content => {\n    switch (content.type) {\n      case 'youtube':\n        const videoId = content.content.split('v=')[1];\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"aspect-w-16 aspect-h-9 rounded-lg overflow-hidden shadow-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n            src: `https://www.youtube.com/embed/${videoId}`,\n            title: \"YouTube video player\",\n            frameBorder: \"0\",\n            allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n            allowFullScreen: true,\n            className: \"w-full h-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this);\n      case 'code':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative group\",\n          children: [/*#__PURE__*/_jsxDEV(\"pre\", {\n            className: \"bg-gray-900 text-gray-100 p-6 rounded-lg overflow-x-auto font-mono text-sm leading-relaxed\",\n            children: /*#__PURE__*/_jsxDEV(\"code\", {\n              children: content.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigator.clipboard.writeText(content.content),\n              className: \"bg-gray-700 text-white px-3 py-1 rounded-md text-sm hover:bg-gray-600\",\n              children: \"Copy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this);\n      case 'points':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 p-6 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc space-y-2 ml-6\",\n            children: content.content.split('\\n').map((point, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"text-gray-700\",\n              children: point\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this);\n      case 'heading':\n        return /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold mb-4 text-gray-900 border-b pb-2\",\n          children: content.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this);\n      case 'subheading':\n        return /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold mb-3 text-gray-800\",\n          children: content.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this);\n      case 'output':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-100 p-4 rounded-lg font-mono text-sm border-l-4 border-green-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500 mb-2\",\n            children: \"Output:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n            className: \"whitespace-pre-wrap\",\n            children: content.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this);\n      case 'syntax':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500 mb-2\",\n            children: \"Syntax:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"code\", {\n            className: \"font-mono text-sm\",\n            children: content.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this);\n      case 'paragraph':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"prose max-w-none\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-700 leading-relaxed mb-4\",\n            children: content.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-700 mb-4\",\n          children: content.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 24\n        }, this);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-4 py-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n  if (!course) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-4 py-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Course not found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: course === null || course === void 0 ? void 0 : course.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: course === null || course === void 0 ? void 0 : course.subtitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(CourseNotifications, {\n          courseId: courseId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }, this), progress && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-700\",\n            children: \"Course Progress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-blue-600\",\n            children: [Math.round(progress.completionPercentage), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full bg-gray-200 rounded-full h-2.5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-600 h-2.5 rounded-full transition-all duration-300\",\n            style: {\n              width: `${progress.completionPercentage}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col lg:flex-row gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:w-1/4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold mb-4\",\n              children: \"Course Content\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: course === null || course === void 0 ? void 0 : (_course$modules = course.modules) === null || _course$modules === void 0 ? void 0 : _course$modules.map(module => {\n                var _module$mainTopics2;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      var _module$mainTopics;\n                      setSelectedModule(module);\n                      if (((_module$mainTopics = module.mainTopics) === null || _module$mainTopics === void 0 ? void 0 : _module$mainTopics.length) > 0) {\n                        handleTopicSelect(module, module.mainTopics[0]);\n                      }\n                    },\n                    className: `w-full text-left p-3 rounded-lg flex items-center justify-between ${(selectedModule === null || selectedModule === void 0 ? void 0 : selectedModule._id) === module._id ? 'bg-blue-50 text-blue-600' : 'hover:bg-gray-50'}`,\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: module.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 256,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(FiChevronRight, {\n                      className: `transform transition-transform ${(selectedModule === null || selectedModule === void 0 ? void 0 : selectedModule._id) === module._id ? 'rotate-90' : ''}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 257,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 41\n                  }, this), (selectedModule === null || selectedModule === void 0 ? void 0 : selectedModule._id) === module._id && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ml-4 mt-2 space-y-1\",\n                    children: (_module$mainTopics2 = module.mainTopics) === null || _module$mainTopics2 === void 0 ? void 0 : _module$mainTopics2.map(topic => /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleTopicSelect(module, topic),\n                      className: `w-full text-left p-2 rounded flex items-center justify-between ${(selectedTopic === null || selectedTopic === void 0 ? void 0 : selectedTopic._id) === topic._id ? 'bg-blue-100 text-blue-600' : 'hover:bg-gray-50'}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"flex-1\",\n                        children: topic.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 274,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: e => {\n                          e.stopPropagation();\n                          handleTopicComplete(topic._id);\n                        },\n                        className: \"p-1 hover:bg-blue-200 rounded\",\n                        children: progress !== null && progress !== void 0 && progress.completedTopics.includes(topic._id) ? /*#__PURE__*/_jsxDEV(FiCheck, {\n                          className: \"w-4 h-4 text-green-500\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 283,\n                          columnNumber: 65\n                        }, this) : /*#__PURE__*/_jsxDEV(FiSquare, {\n                          className: \"w-4 h-4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 285,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 275,\n                        columnNumber: 57\n                      }, this)]\n                    }, topic._id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 265,\n                      columnNumber: 53\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 45\n                  }, this)]\n                }, module._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 37\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:w-3/4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow p-6\",\n            children: selectedTopic ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-start mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                    className: \"text-2xl font-bold mb-2\",\n                    children: selectedTopic.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 45\n                  }, this), selectedTopic.description && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-600\",\n                    children: selectedTopic.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleTopicComplete(selectedTopic._id),\n                  className: `flex items-center space-x-2 px-4 py-2 rounded-lg ${progress !== null && progress !== void 0 && progress.completedTopics.includes(selectedTopic._id) ? 'bg-green-100 text-green-700' : 'bg-blue-100 text-blue-700'}`,\n                  children: progress !== null && progress !== void 0 && progress.completedTopics.includes(selectedTopic._id) ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(FiCheck, {\n                      className: \"w-5 h-5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 320,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Completed\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 321,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(FiSquare, {\n                      className: \"w-5 h-5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Mark Complete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 326,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-6\",\n                children: (_selectedTopic$conten = selectedTopic.contents) === null || _selectedTopic$conten === void 0 ? void 0 : _selectedTopic$conten.map((content, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"content-item\",\n                  children: renderContent(content)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 45\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center text-gray-500\",\n              children: [/*#__PURE__*/_jsxDEV(FiBook, {\n                className: \"w-16 h-16 mx-auto mb-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Select a topic to start learning\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(CourseContent, \"Ie5LyMxneAcoI/aAxWelf3Tcstk=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = CourseContent;\nexport default CourseContent;\nvar _c;\n$RefreshReg$(_c, \"CourseContent\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","FiBook","FiChevronRight","FiVideo","FiFileText","FiCode","FiList","FiType","FiCheck","FiSquare","courseService","enrollmentService","Navbar","CourseNotifications","jsxDEV","_jsxDEV","Fragment","_Fragment","CourseContent","_s","_course$modules","_selectedTopic$conten","courseId","navigate","course","setCourse","selectedModule","setSelectedModule","selectedTopic","setSelectedTopic","loading","setLoading","progress","setProgress","checkEnrollmentAndFetchCourse","courseRes","enrollmentsRes","Promise","all","getCourse","getEnrolledCourses","courseEnrollment","enrollments","find","e","_id","currentModule","modules","m","currentTopic","mainTopics","t","error","console","handleTopicComplete","topicId","response","markTopicComplete","handleTopicSelect","module","topic","updateProgress","moduleId","getContentIcon","type","className","fileName","_jsxFileName","lineNumber","columnNumber","renderContent","content","videoId","split","children","src","title","frameBorder","allow","allowFullScreen","onClick","navigator","clipboard","writeText","map","point","index","subtitle","Math","round","completionPercentage","style","width","_module$mainTopics2","_module$mainTopics","length","name","stopPropagation","completedTopics","includes","description","contents","_c","$RefreshReg$"],"sources":["/home/rcts/Desktop/k-hub/frontend/src/pages/CourseContent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { FiBook, FiChevronRight, FiVideo, FiFileText, FiCode, FiList, FiType, FiCheck, FiSquare } from 'react-icons/fi';\nimport { courseService } from '../services/courseService';\nimport { enrollmentService } from '../services/enrollmentService';\nimport Navbar from '../components/Navbar';\nimport CourseNotifications from '../components/CourseNotifications';\n\nconst CourseContent = () => {\n    const { courseId } = useParams();\n    const navigate = useNavigate();\n    const [course, setCourse] = useState(null);\n    const [selectedModule, setSelectedModule] = useState(null);\n    const [selectedTopic, setSelectedTopic] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [progress, setProgress] = useState(null);\n\n    useEffect(() => {\n        checkEnrollmentAndFetchCourse();\n    }, [courseId]);\n\n    const checkEnrollmentAndFetchCourse = async () => {\n        try {\n            // Check if user is enrolled and get progress\n            const [courseRes, enrollmentsRes] = await Promise.all([\n                courseService.getCourse(courseId),\n                enrollmentService.getEnrolledCourses()\n            ]);\n\n            if (!courseRes.course) {\n                navigate('/courses');\n                return;\n            }\n\n            const courseEnrollment = enrollmentsRes.enrollments.find(\n                e => e.course._id === courseId\n            );\n\n            if (!courseEnrollment) {\n                navigate(`/courses/${courseId}`);\n                return;\n            }\n\n            setCourse(courseRes.course);\n            setProgress(courseEnrollment.progress);\n            \n            // Select current module and topic from progress\n            if (courseEnrollment.progress.currentModule) {\n                const currentModule = courseRes.course.modules.find(\n                    m => m._id === courseEnrollment.progress.currentModule\n                );\n                setSelectedModule(currentModule);\n\n                if (currentModule && courseEnrollment.progress.currentTopic) {\n                    const currentTopic = currentModule.mainTopics.find(\n                        t => t._id === courseEnrollment.progress.currentTopic\n                    );\n                    setSelectedTopic(currentTopic);\n                }\n            }\n        } catch (error) {\n            console.error('Error fetching course content:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleTopicComplete = async (topicId) => {\n        try {\n            const response = await enrollmentService.markTopicComplete(courseId, topicId);\n            setProgress(response.progress);\n        } catch (error) {\n            console.error('Error marking topic complete:', error);\n        }\n    };\n\n    const handleTopicSelect = async (module, topic) => {\n        try {\n            setSelectedModule(module);\n            setSelectedTopic(topic);\n            await enrollmentService.updateProgress(courseId, {\n                moduleId: module._id,\n                topicId: topic._id\n            });\n        } catch (error) {\n            console.error('Error updating progress:', error);\n        }\n    };\n\n    const getContentIcon = (type) => {\n        switch (type) {\n            case 'youtube':\n                return <FiVideo className=\"w-5 h-5\" />;\n            case 'code':\n                return <FiCode className=\"w-5 h-5\" />;\n            default:\n                return <FiFileText className=\"w-5 h-5\" />;\n        }\n    };\n\n    const renderContent = (content) => {\n        switch (content.type) {\n            case 'youtube':\n                const videoId = content.content.split('v=')[1];\n                return (\n                    <div className=\"aspect-w-16 aspect-h-9 rounded-lg overflow-hidden shadow-lg\">\n                        <iframe\n                            src={`https://www.youtube.com/embed/${videoId}`}\n                            title=\"YouTube video player\"\n                            frameBorder=\"0\"\n                            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                            allowFullScreen\n                            className=\"w-full h-full\"\n                        ></iframe>\n                    </div>\n                );\n            case 'code':\n                return (\n                    <div className=\"relative group\">\n                        <pre className=\"bg-gray-900 text-gray-100 p-6 rounded-lg overflow-x-auto font-mono text-sm leading-relaxed\">\n                            <code>{content.content}</code>\n                        </pre>\n                        <div className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                            <button \n                                onClick={() => navigator.clipboard.writeText(content.content)}\n                                className=\"bg-gray-700 text-white px-3 py-1 rounded-md text-sm hover:bg-gray-600\"\n                            >\n                                Copy\n                            </button>\n                        </div>\n                    </div>\n                );\n            case 'points':\n                return (\n                    <div className=\"bg-blue-50 p-6 rounded-lg\">\n                        <ul className=\"list-disc space-y-2 ml-6\">\n                            {content.content.split('\\n').map((point, index) => (\n                                <li key={index} className=\"text-gray-700\">{point}</li>\n                            ))}\n                        </ul>\n                    </div>\n                );\n            case 'heading':\n                return (\n                    <h2 className=\"text-2xl font-bold mb-4 text-gray-900 border-b pb-2\">\n                        {content.content}\n                    </h2>\n                );\n            case 'subheading':\n                return (\n                    <h3 className=\"text-xl font-semibold mb-3 text-gray-800\">\n                        {content.content}\n                    </h3>\n                );\n            case 'output':\n                return (\n                    <div className=\"bg-gray-100 p-4 rounded-lg font-mono text-sm border-l-4 border-green-500\">\n                        <div className=\"text-xs text-gray-500 mb-2\">Output:</div>\n                        <pre className=\"whitespace-pre-wrap\">{content.content}</pre>\n                    </div>\n                );\n            case 'syntax':\n                return (\n                    <div className=\"bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500\">\n                        <div className=\"text-xs text-gray-500 mb-2\">Syntax:</div>\n                        <code className=\"font-mono text-sm\">{content.content}</code>\n                    </div>\n                );\n            case 'paragraph':\n                return (\n                    <div className=\"prose max-w-none\">\n                        <p className=\"text-gray-700 leading-relaxed mb-4\">\n                            {content.content}\n                        </p>\n                    </div>\n                );\n            default:\n                return <p className=\"text-gray-700 mb-4\">{content.content}</p>;\n        }\n    };\n\n    if (loading) {\n        return (\n            <>\n                <Navbar />\n                <div className=\"container mx-auto px-4 py-8\">\n                    <div>Loading...</div>\n                </div>\n            </>\n        );\n    }\n\n    if (!course) {\n        return (\n            <>\n                <Navbar />\n                <div className=\"container mx-auto px-4 py-8\">\n                    <div>Course not found</div>\n                </div>\n            </>\n        );\n    }\n\n    return (\n        <>\n            <Navbar />\n            <div className=\"container mx-auto px-4 py-8\">\n                <div className=\"flex justify-between items-center mb-6\">\n                    <div>\n                        <h1 className=\"text-2xl font-bold text-gray-900\">{course?.title}</h1>\n                        <p className=\"text-gray-600\">{course?.subtitle}</p>\n                    </div>\n                    <CourseNotifications courseId={courseId} />\n                </div>\n                {/* Course Progress Bar */}\n                {progress && (\n                    <div className=\"mb-6\">\n                        <div className=\"flex justify-between items-center mb-2\">\n                            <span className=\"text-sm font-medium text-gray-700\">\n                                Course Progress\n                            </span>\n                            <span className=\"text-sm font-medium text-blue-600\">\n                                {Math.round(progress.completionPercentage)}%\n                            </span>\n                        </div>\n                        <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n                            <div\n                                className=\"bg-blue-600 h-2.5 rounded-full transition-all duration-300\"\n                                style={{ width: `${progress.completionPercentage}%` }}\n                            ></div>\n                        </div>\n                    </div>\n                )}\n\n                <div className=\"flex flex-col lg:flex-row gap-8\">\n                    {/* Sidebar - Module List */}\n                    <div className=\"lg:w-1/4\">\n                        <div className=\"bg-white rounded-lg shadow p-4\">\n                            <h2 className=\"text-xl font-bold mb-4\">Course Content</h2>\n                            <div className=\"space-y-2\">\n                                {course?.modules?.map((module) => (\n                                    <div key={module._id}>\n                                        <button\n                                            onClick={() => {\n                                                setSelectedModule(module);\n                                                if (module.mainTopics?.length > 0) {\n                                                    handleTopicSelect(module, module.mainTopics[0]);\n                                                }\n                                            }}\n                                            className={`w-full text-left p-3 rounded-lg flex items-center justify-between ${\n                                                selectedModule?._id === module._id\n                                                    ? 'bg-blue-50 text-blue-600'\n                                                    : 'hover:bg-gray-50'\n                                            }`}\n                                        >\n                                            <span className=\"font-medium\">{module.name}</span>\n                                            <FiChevronRight className={`transform transition-transform ${\n                                                selectedModule?._id === module._id ? 'rotate-90' : ''\n                                            }`} />\n                                        </button>\n                                        \n                                        {selectedModule?._id === module._id && (\n                                            <div className=\"ml-4 mt-2 space-y-1\">\n                                                {module.mainTopics?.map((topic) => (\n                                                    <button\n                                                        key={topic._id}\n                                                        onClick={() => handleTopicSelect(module, topic)}\n                                                        className={`w-full text-left p-2 rounded flex items-center justify-between ${\n                                                            selectedTopic?._id === topic._id\n                                                                ? 'bg-blue-100 text-blue-600'\n                                                                : 'hover:bg-gray-50'\n                                                        }`}\n                                                    >\n                                                        <span className=\"flex-1\">{topic.name}</span>\n                                                        <button\n                                                            onClick={(e) => {\n                                                                e.stopPropagation();\n                                                                handleTopicComplete(topic._id);\n                                                            }}\n                                                            className=\"p-1 hover:bg-blue-200 rounded\"\n                                                        >\n                                                            {progress?.completedTopics.includes(topic._id) ? (\n                                                                <FiCheck className=\"w-4 h-4 text-green-500\" />\n                                                            ) : (\n                                                                <FiSquare className=\"w-4 h-4\" />\n                                                            )}\n                                                        </button>\n                                                    </button>\n                                                ))}\n                                            </div>\n                                        )}\n                                    </div>\n                                ))}\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Main Content Area */}\n                    <div className=\"lg:w-3/4\">\n                        <div className=\"bg-white rounded-lg shadow p-6\">\n                            {selectedTopic ? (\n                                <>\n                                    <div className=\"flex justify-between items-start mb-6\">\n                                        <div>\n                                            <h1 className=\"text-2xl font-bold mb-2\">{selectedTopic.name}</h1>\n                                            {selectedTopic.description && (\n                                                <p className=\"text-gray-600\">{selectedTopic.description}</p>\n                                            )}\n                                        </div>\n                                        <button\n                                            onClick={() => handleTopicComplete(selectedTopic._id)}\n                                            className={`flex items-center space-x-2 px-4 py-2 rounded-lg ${\n                                                progress?.completedTopics.includes(selectedTopic._id)\n                                                    ? 'bg-green-100 text-green-700'\n                                                    : 'bg-blue-100 text-blue-700'\n                                            }`}\n                                        >\n                                            {progress?.completedTopics.includes(selectedTopic._id) ? (\n                                                <>\n                                                    <FiCheck className=\"w-5 h-5\" />\n                                                    <span>Completed</span>\n                                                </>\n                                            ) : (\n                                                <>\n                                                    <FiSquare className=\"w-5 h-5\" />\n                                                    <span>Mark Complete</span>\n                                                </>\n                                            )}\n                                        </button>\n                                    </div>\n                                    <div className=\"space-y-6\">\n                                        {selectedTopic.contents?.map((content, index) => (\n                                            <div key={index} className=\"content-item\">\n                                                {renderContent(content)}\n                                            </div>\n                                        ))}\n                                    </div>\n                                </>\n                            ) : (\n                                <div className=\"text-center text-gray-500\">\n                                    <FiBook className=\"w-16 h-16 mx-auto mb-4\" />\n                                    <p>Select a topic to start learning</p>\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default CourseContent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}